
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Create Modifiable Tables &mdash; HYRISE latest documentation</title>
    
    <link rel="stylesheet" href="../_static/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/hyrise_template.css" type="text/css" />
    <link rel="stylesheet" href="../_static/hyrise.css" type="text/css" />
    <link rel="stylesheet" href="../_static/page-1-attributes.css" type="text/css" />
    <link rel="stylesheet" href="../_static/page-1.css" type="text/css" />

    <!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
    <link rel="stylesheet" href="../_static/pygments-github.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'latest',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/hyrise.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>


    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="HYRISE latest documentation" href="../index.html" />
    <link rel="up" title="Implementation Details" href="../architecture.html" />
    <link rel="next" title="HYRISE Layouter" href="layouter.html" />
    <link rel="prev" title="Implementation Details" href="../architecture.html" /> 
  </head>
  <body>
    <div id="backToTop">
      <span class="glyphicon glyphicon-chevron-up"></span> <br />
      <p>Back To Top</p>
    </div>
    <div class="wrapper">
        <div class="inner-wrapper">
            <div class="container"><div class="navbar-wrapper">
  <nav class="navbar navbar-default navbar-fixed-top container" role="navigation" id="menu">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav topnav">
        <li><a href="../index.html">Home</a></li>
        <li class="active" ><a href="../documentation.html">Documentation</a></li>
        <li><a href="../people.html">People</a></li>
        <li><a href="../projects.html">Projects</a></li>
        <li><a href="../publications.html">Publications</a></li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </nav>
</div>
                <div class="container-fluid">
                    <div class="row-fluid">
      <div class="col-md-3 hyrisesidebar">
          <div class="logo"></div>
  
  <div id="tocWrapper">
    <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../documentation.html">Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../architecture.html">Implementation Details</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">Create Modifiable Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="layouter.html">HYRISE Layouter</a></li>
<li class="toctree-l3"><a class="reference internal" href="loading.html">Loading</a></li>
<li class="toctree-l3"><a class="reference internal" href="statistics.html">Query Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="planops.html">Plan Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="extension_points.html">Extension points</a></li>
<li class="toctree-l3"><a class="reference internal" href="routing.html">Routing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../query_execution.html">HYRISE Query Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing.html">Developing with HYRISE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html">HYRISE &amp; Development FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proposals.html">Proposals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../doxygen.html">Doxygen Documentation</a></li>
</ul>
</li>
</ul>

  </div>

  
  <!-- possible but links have to be removed, too..problem: closing tags-->
  
              <!--
  <strong>Previous topic: </strong><a href="../architecture.html" title="previous chapter">Implementation Details</a><br />
  <strong>Next topic: </strong><a href="layouter.html" title="next chapter">HYRISE Layouter</a></p> -->
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/architecture/architecture.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <p class="searchtip" style="font-size: 90%">
      Enter search terms or a module, class or function name.
    </p>
    <form class="search form-inline" action="../search.html" method="get" role="form">
      <div class="form-group">
        <input type="text" name="q" class="form-control"/>
      </div>
      <input type="submit" value="Go" class="btn btn-default"/>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
      </div>
                        <div class="main col-md-9">
                            <div class="content row-fluid">
                              
  <div class="section" id="create-modifiable-tables">
<h1>Create Modifiable Tables<a class="headerlink" href="#create-modifiable-tables" title="Permalink to this headline">Â¶</a></h1>
<p>When working with plan operations it often becomes necessary to create
new temporary tables with a certain set of columns and / or layout. To
avoid calling the base APIs every time the class <tt class="docutils literal"><span class="pre">`TableBuilder`</span></tt>
provides very simple means to create a new modifiable Table based on a
given input specification.</p>
<p>The easiest way to create a new table is using the following code:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">TableBuilder</span><span class="o">::</span><span class="n">param_list</span> <span class="n">list</span><span class="p">;</span>
<span class="n">list</span><span class="p">.</span><span class="n">append</span><span class="p">().</span><span class="n">set_type</span><span class="p">(</span><span class="s">&quot;FLOAT&quot;</span><span class="p">).</span><span class="n">set_name</span><span class="p">(</span><span class="s">&quot;first&quot;</span><span class="p">);</span>
<span class="n">list</span><span class="p">.</span><span class="n">append</span><span class="p">().</span><span class="n">set_type</span><span class="p">(</span><span class="s">&quot;STRING&quot;</span><span class="p">).</span><span class="n">set_name</span><span class="p">(</span><span class="s">&quot;second&quot;</span><span class="p">);</span>

<span class="n">AbstractTable</span><span class="o">*</span> <span class="n">result</span> <span class="o">=</span> <span class="n">TableBuilder</span><span class="o">::</span><span class="n">build</span><span class="p">(</span><span class="n">list</span><span class="p">);</span>
</pre></div>
</div>
<p>The first step is to create a list element that will include all
attributes with their respective type and name information. The method
<tt class="docutils literal"><span class="pre">`append()`</span></tt> takes a <tt class="docutils literal"><span class="pre">`param`</span></tt> object as a parameter and returns a
const reference to this element which can then be set using the member
methods of the object. Each set retuns a const reference to this so
they can be simply chained as shown above.</p>
<p>When calling <tt class="docutils literal"><span class="pre">`TableBuilder::build(list)`</span></tt> the TableBuilder will
create a new table based on this information and returns it with
retain count 1.</p>
<p>The second possible operation is to create a new table with a specific
layout. This is done by calling the <tt class="docutils literal"><span class="pre">`appendGroup`</span></tt> method of the
<tt class="docutils literal"><span class="pre">`param_list`</span></tt> class as shown in the following example:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">TableBuilder</span><span class="o">::</span><span class="n">param_list</span> <span class="n">list</span><span class="p">;</span>
<span class="n">list</span><span class="p">.</span><span class="n">append</span><span class="p">().</span><span class="n">set_type</span><span class="p">(</span><span class="s">&quot;FLOAT&quot;</span><span class="p">).</span><span class="n">set_name</span><span class="p">(</span><span class="s">&quot;first&quot;</span><span class="p">);</span>
<span class="n">list</span><span class="p">.</span><span class="n">append</span><span class="p">().</span><span class="n">set_type</span><span class="p">(</span><span class="s">&quot;STRING&quot;</span><span class="p">).</span><span class="n">set_name</span><span class="p">(</span><span class="s">&quot;second&quot;</span><span class="p">);</span>
<span class="n">list</span><span class="p">.</span><span class="n">append</span><span class="p">().</span><span class="n">set_type</span><span class="p">(</span><span class="s">&quot;INTEGER&quot;</span><span class="p">).</span><span class="n">set_name</span><span class="p">(</span><span class="s">&quot;third&quot;</span><span class="p">);</span>

<span class="c1">// Set the layout</span>
<span class="n">list</span><span class="p">.</span><span class="n">appendGroup</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">appendGroup</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="n">AbstractTable</span><span class="o">*</span> <span class="n">result</span> <span class="o">=</span> <span class="n">TableBuilder</span><span class="o">::</span><span class="n">build</span><span class="p">(</span><span class="n">list</span><span class="p">);</span>
</pre></div>
</div>
<p>Here, the <cite>TableBuilder</cite> will create a vertical table that consists
out of two tables. The first one stores one attribute, while the
second one stores two attributes. For further reference please refer
to the unit tests of the table builder class.</p>
</div>


                            </div>
                        </div>
                    </div>
                </div>
                    <div class="footer">
                        &copy; Copyright 2010-2013, Martin Grund et al.
                      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
                    </div>
            </div> <!-- container -->
        </div> <!-- inner-wrapper -->
    </div> <!-- wrapper -->
    
  </body>
</html>